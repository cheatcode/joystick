import p from"../../../lib/dynamic_import.js";import c from"../get_api_for_data_functions.js";import m from"../../../lib/get_browser_safe_request.js";import d from"../../../lib/get_platform_safe_path.js";import f from"../../../lib/get_translations.js";import u from"../../settings/load.js";const l=async(t={},o={},_={})=>{const n=`${process.cwd()}/.joystick/build/`,s=t?.query?.path_to_component?await p(d(`${n}${t?.query?.path_to_component}?v=${new Date().getTime()}`)):null;if(s){const a=s(),r=c(t,o,_?.options?.api),e=m(t),i=await a.fetch_data(r,e,{},a);return o.status(200).send({data:{[a?.id]:i},req:e,settings:u(),translations:await f({joystick_build_path:n,render_component_path:t?.query?.path_to_component,req:t})})}o.status(200).send({data:{},translations:{}})};var j=l;export{j as default};
