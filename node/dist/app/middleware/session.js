import e from"../databases/queries/sessions.js";import n from"../../lib/set_cookie.js";const c=async(o,i,t)=>{let s=o?.cookies?.joystick_session;console.log({headers:o?.headers,session_id:s}),(s?await e("get_session",{session_id:s}):null)||(s=await e("create_session"),n(i,"joystick_session",s)),o.cookies={...o?.cookies||{},joystick_session:s},o.context={...o?.context||{},session:await e("get_session",{session_id:s})},t()};var l=c;export{l as default};
