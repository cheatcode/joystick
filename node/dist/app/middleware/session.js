import i from"../databases/queries/sessions.js";import n from"../../lib/set_cookie.js";const c=async(s,e,t)=>{let o=s?.cookies?.joystick_session;console.log({headers:s?.headers,url:s?.url,session_id:o}),(o?await i("get_session",{session_id:o}):null)||(o=await i("create_session"),n(e,"joystick_session",o)),s.cookies={...s?.cookies||{},joystick_session:o},s.context={...s?.context||{},session:await i("get_session",{session_id:o})},t()};var k=c;export{k as default};
