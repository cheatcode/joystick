import i from"../databases/queries/sessions.js";import n from"../../lib/set_cookie.js";const c=async(o,e,t)=>{let s=o?.cookies?.joystick_session;(s?await i("get_session",{session_id:s}):null)||(s=await i("create_session"),n(e,"joystick_session",s)),o.cookies={...o?.cookies||{},joystick_session:s},o.context={...o?.context||{},session:await i("get_session",{session_id:s})},t()};var l=c;export{l as default};
