import _ from"../databases/queries/accounts.js";import c from"../accounts/has_login_token_expired.js";import s from"../accounts/unset_account_cookie.js";const k=async(o,t,i)=>{const n=c(t,o?.cookies?.joystick_login_token,o?.cookies?.joystick_login_token_expires_at);n&&s(t);const e=n?null:await _("user_with_login_token",{token:o?.cookies?.joystick_login_token});o.context={...o?.context||{},user:e},i()};var u=k;export{u as default};
