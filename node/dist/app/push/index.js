import _ from"fs";import{NODE_CRON_EVERY_MINUTE as e,NODE_CRON_EVERY_TEN_SECONDS as n,NODE_CRON_EVERY_THIRTY_SECONDS as a}from"../../lib/constants.js";import h from"../../lib/path_exists.js";import o from"./send_instance_data_to_push.js";import i from"./snapshot_metrics.js";const{readFile:l}=_.promises,m=async()=>{const s="/root/push/logs/app.log";return await h(s)?l(s,"utf-8"):""},p=()=>{const s=cron.schedule(n,async()=>{const t=await m();o("logs",t)}),c=cron.schedule(a,()=>{const t=i();o("metrics",t)}),r=cron.schedule(e,()=>{o("health-checks")});s.start(),c.start(),r.start()};var O=p;export{O as default};
