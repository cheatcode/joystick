import e from"fs";import o from"node-cron";import{NODE_CRON_EVERY_MINUTE as a,NODE_CRON_EVERY_TEN_SECONDS as n,NODE_CRON_EVERY_THIRTY_SECONDS as h}from"../../lib/constants.js";import i from"../../lib/path_exists.js";import r from"./send_instance_data_to_push.js";import m from"./snapshot_metrics.js";const{readFile:l}=e.promises,p=async()=>{const s="/root/push/logs/app.log";return await i(s)?l(s,"utf-8"):""},E=()=>{const s=o.schedule(n,async()=>{const t=await p();r("logs",t)}),c=o.schedule(h,()=>{const t=m();r("metrics",t)}),_=o.schedule(a,()=>{r("health-checks")});s.start(),c.start(),_.start()};var R=E;export{R as default};
