import r from"../../app/settings/load.js";import a from"node-fetch";const i=async(o="",c="")=>{try{const e=`${r()?.private?.cheatcode?.push_debug_url||"https://push.cheatcode.co"}/api/instances/${o}`,s=await a(e,{method:"HEAD"});if(console.log("HEAD response received:",{url:e,status:s.status,ok:s.ok,statusText:s.statusText}),!s.ok)return;const t=await a(e,{method:"POST",headers:{"x-push-instance-token":process.env.PUSH_INSTANCE_TOKEN,"Content-Type":"application/json"},body:JSON.stringify({type:o,data:c})});return console.log("POST response received:",{status:t.status,ok:t.ok,statusText:t.statusText}),t.ok?t:void 0}catch(n){console.error(n)}};var d=i;export{d as default};
