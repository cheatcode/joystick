import i from"../settings/load.js";const d=(t="users")=>{const s=i()?.config?.databases||[],o=s.findIndex(r=>!!r[t]),e=s[o];if(!e)return null;const n=s?.filter(r=>r?.provider===e?.provider)?.length>1,a=parseInt(process.env.PORT,10)+10+o;return console.log(`[DEBUG] get_target_database_connection: database_type=${t}, NODE_ENV=${process.env.NODE_ENV}, PORT=${process.env.PORT}, calculated_port=${a}, provider=${e?.provider}`),{database_type:t,provider:e?.provider,connection:n?process.databases[e?.provider][e?.name||`${e?.provider}_${a}`]:process.databases[e?.provider]}};var _=d;export{_ as default};
