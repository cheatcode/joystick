import t from"chalk";import{createClient as i}from"redis";const E=async(s={},r=2610)=>{try{const n=s?.connection||{hosts:[{hostname:"127.0.0.1",port:r}],database:0},c=n.hosts&&n.hosts[0],a={socket:{host:c?.hostname||"127.0.0.1",port:c?.port||r},database:n?.database||0,...n?.password&&{password:n.password},...n?.username&&{username:n.username},...s?.options||{}};s?.options?.tls&&(a.socket.tls=!0);const o=i(a);return o.on("error",e=>{console.warn(t.redBright(`Redis connection error: ${e.message}`))}),o.on("connect",()=>{}),await o.connect(),{client:o,lpush:(...e)=>o.LPUSH(...e),rpop:(...e)=>o.RPOP(...e),brpop:(...e)=>o.BRPOP(...e),llen:(...e)=>o.LLEN(...e),lrange:(...e)=>o.LRANGE(...e),lrem:(...e)=>o.LREM(...e),hset:(...e)=>o.HSET(...e),hget:(...e)=>o.HGET(...e),hgetall:(...e)=>o.HGETALL(...e),hdel:(...e)=>o.HDEL(...e),hexists:(...e)=>o.HEXISTS(...e),sadd:(...e)=>o.SADD(...e),srem:(...e)=>o.SREM(...e),smembers:(...e)=>o.SMEMBERS(...e),sismember:(...e)=>o.SISMEMBER(...e),zadd:(...e)=>o.ZADD(...e),zrem:(...e)=>o.ZREM(...e),zrange:(...e)=>o.ZRANGE(...e),zrangebyscore:(...e)=>o.ZRANGEBYSCORE(...e),zremrangebyscore:(...e)=>o.ZREMRANGEBYSCORE(...e),set:(...e)=>o.SET(...e),get:(...e)=>o.GET(...e),del:(...e)=>o.DEL(...e),exists:(...e)=>o.EXISTS(...e),expire:(...e)=>o.EXPIRE(...e),multi:()=>o.multi(),_connection:o}}catch(n){console.warn(n),console.warn(t.yellowBright(`
Failed to connect to Redis. Please double-check connection settings and try again.

Error from Redis:

${t.redBright(n?.message)}`))}};var d=E;export{d as default};
