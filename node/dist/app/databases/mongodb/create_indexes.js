import t from"../../../lib/types.js";const r={sessions:async()=>{try{await process.databases._sessions?.collection("sessions").createIndex({createdAt:1},{expireAfterSeconds:3600,background:!0})}catch(e){console.warn(e)}},users:async()=>{try{await process.databases._users?.collection("users").createIndex({emailAddress:1},{background:!0,unique:!0}),await process.databases._users?.collection("users").createIndex({username:1},{background:!0}),await process.databases._users?.collection("users").createIndex({"sessions.token":1},{background:!0}),await process.databases._users?.collection("users").createIndex({"passwordResetTokens.token":1},{background:!0}),await process.databases._users?.collection("users").createIndex({"passwordResetTokens.token":1,_id:1},{background:!0}),await process.databases._users?.collection("users").createIndex({roles:1},{background:!0}),await process.databases._users?.collection("users").createIndex({roles:1,_id:1},{background:!0}),await process.databases._users?.collection("roles").createIndex({role:1},{background:!0}),await process.databases._users?.collection("roles").createIndex({role:1,userId:1},{background:!0})}catch(e){console.warn(e)}}},o=async(e=[])=>{for(let s=0;s<e?.length;s+=1){const a=e[s];t.is_function(r[a])&&await r[a]()}};var n=o;export{n as default};
