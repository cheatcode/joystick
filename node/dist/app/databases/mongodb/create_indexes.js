import o from"../../../lib/types.js";const t={sessions:async()=>{try{await process.databases._sessions?.collection("sessions").createIndex({_id:1}),await process.databases._sessions?.collection("sessions").createIndex({createdAt:1},{expireAfterSeconds:3600})}catch(e){console.warn(e)}},users:async()=>{try{await process.databases._users?.collection("users").createIndex({_id:1}),await process.databases._users?.collection("users").createIndex({emailAddress:1}),await process.databases._users?.collection("users").createIndex({username:1}),await process.databases._users?.collection("users").createIndex({"sessions.token":1}),await process.databases._users?.collection("users").createIndex({"passwordResetTokens.token":1}),await process.databases._users?.collection("users").createIndex({"passwordResetTokens.token":1,_id:1}),await process.databases._users?.collection("users").createIndex({roles:1}),await process.databases._users?.collection("users").createIndex({roles:1,_id:1}),await process.databases._users?.collection("roles").createIndex({role:1}),await process.databases._users?.collection("roles").createIndex({role:1,userId:1})}catch(e){console.warn(e)}}},c=async(e=[])=>{for(let s=0;s<e?.length;s+=1){const a=e[s];o.is_function(t[a])&&await t[a]()}};var n=c;export{n as default};
