import t from"../../../lib/types.js";const o=async(r="",e="",_="",a=[])=>process.databases[r]?.query(`CREATE UNIQUE INDEX IF NOT EXISTS ${e} ON ${_}(${a.join(", ")})`),s=async(r="",e="",_="",a=[])=>process.databases[r]?.query(`CREATE INDEX IF NOT EXISTS ${e} ON ${_}(${a.join(", ")})`),u={users:async()=>{await s("_users","user_by_email","users",["email_address"]),await s("_users","user_by_username","users",["username"]),await s("_users","user_by_user_id","users",["user_id"]),await s("user_session_by_token","users_sessions",["token"]),await s("_users","user_password_reset_token_by_token","users_password_reset_tokens",["token"]),await s("_users","user_password_reset_token_by_user_id_token","users_password_reset_tokens",["user_id","token"]),await s("_users","user_role","users_roles",["role"]),await s("_users","user_roles_by_user_id_role","users_roles",["user_id","role"]),await s("_users","role","roles",["role"]),await o("_users","user_roles","users_roles",["user_id","role"])}},n=async(r=[])=>{for(let e=0;e<r?.length;e+=1){const _=r[e];t.is_function(u[_])&&await u[_]()}};var d=n;export{d as default};
