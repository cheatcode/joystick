import e from"../../lib/types.js";class a{constructor(t={}){return this.options=t,this.quantity=t?.quantity,this.run=this.run.bind(this),this.run}async run(t={}){this.input=t;const s=typeof this?.options?.skip=="function"?await this.options.skip(this,t):!1;let i=[];s||(i=await this.generate_data_to_create(t),(e.is_function(this?.options?.onCreate)||e.is_function(this?.options?.on_create))&&await(this.options.onCreate||this.options.on_create)(this,i,(o={})=>(this?.options?.onAfterCreateEach||this.options.on_after_create_each)(this,o,t))),(e.is_function(this?.options?.onAfterCreateAll)||e.is_function(this?.options?.on_after_create_all))&&(this.options.onAfterCreateAll||this.options.on_after_create_all)(this,i,t)}async generate_data_to_create(t={}){const s=[];for(let i=0;i<this?.quantity;i+=1)if(typeof this?.options?.template=="function"){const o=await this.options?.template(this,i,t);s.push(o)}return s}}var h=(n={})=>new a(n);export{h as default};
