import n from"fs";import t from"./app/accounts/index.js";import a from"./action/index.js";import p from"./cache/index.js";import c from"./lib/escape_html.js";import m from"./lib/escape_markdown_string.js";import _ from"./app/fixture/index.js";import f from"./app/api/sanitize_api_response.js";import l from"./app/databases/sql.js";import d from"./app/api/validate_input.js";import u from"./app/websockets/index.js";import x from"./app/index.js";import w from"./lib/generate_id.js";import h from"./lib/get_origin.js";import v from"./app/settings/load.js";import o from"./lib/node_path_polyfills.js";import e from"./lib/path_exists.js";import g from"./app/email/send.js";const{readFile:r}=n.promises,k={...t,deleteUser:t.delete_user,recoverPassword:t.recover_password,resetPassword:t.reset_password,sendEmailVerification:t.send_email_verification,setPassword:t.set_password,verifyEmail:t.verify_email},y=a,O=p,Z=o.__dirname,R={send:g},b=c,P=m,$=o.__filename,U=_,j=h(),q={continent:await e("/root/push/continent.txt")?(await r("/root/push/continent.txt","utf-8"))?.replace(`
`,""):null,instance_token:await e("/root/push/instance_token.txt")?(await r("/root/push/instance_token.txt","utf-8"))?.replace(`
`,""):null,current_version:await e("/root/push/versions/current")?(await r("/root/push/versions/current","utf-8"))?.replace(`
`,""):null},z=f,s=v(),E=l,L=d,T=u,i={app:x,accounts:k,action:y,cache:O,email:R,emitters:{},escape_html:b,escape_markdown_string:P,fixture:U,id:w,origin:j,push:q,sanitize:z,settings:s,sql:E,validate_input:L,websockets:T,...o};global.joystick=i,process.env.ROOT_URL=s?.config?.ROOT_URL||"";var tt=i;export{Z as __dirname,$ as __filename,k as accounts,y as action,O as cache,tt as default,R as email,b as escape_html,P as escape_markdown_string,U as fixture,j as origin,q as push,z as sanitize,s as settings,E as sql,L as validate_input,T as websockets};
