import i from"fs";import t from"./app/accounts/index.js";import n from"./action/index.js";import a from"./cache/index.js";import p from"./lib/escape_html.js";import c from"./lib/escape_markdown_string.js";import m from"./app/fixture/index.js";import _ from"./app/api/sanitize_api_response.js";import l from"./app/databases/sql.js";import f from"./app/api/validate_input.js";import d from"./app/websockets/index.js";import u from"./app/index.js";import x from"./lib/generate_id.js";import w from"./lib/get_origin.js";import h from"./app/settings/load.js";import o from"./lib/node_path_polyfills.js";import e from"./lib/path_exists.js";import v from"./app/email/send.js";const{readFile:r}=i.promises,g={...t,deleteUser:t.delete_user,recoverPassword:t.recover_password,resetPassword:t.reset_password,sendEmailVerification:t.send_email_verification,setPassword:t.set_password,verifyEmail:t.verify_email},k=n,y=a,Z=o.__dirname,b={send:v},P=p,j=c,$=o.__filename,q=m,z=w(),E={continent:await e("/root/push/continent.txt")?(await r("/root/push/continent.txt","utf-8"))?.replace(`
`,""):null,instance_token:await e("/root/push/instance_token.txt")?(await r("/root/push/instance_token.txt","utf-8"))?.replace(`
`,""):null,current_version:await e("/root/push/versions/current")?(await r("/root/push/versions/current","utf-8"))?.replace(`
`,""):null},F=_,U=h(),V=l,A=f,B=d,s={app:u,accounts:g,action:k,cache:y,email:b,emitters:{},escape_html:P,escape_markdown_string:j,fixture:q,id:x,origin:z,push:E,sanitize:F,settings:U,sql:V,validate_input:A,websockets:B,...o};global.joystick=s;var tt=s;export{Z as __dirname,$ as __filename,g as accounts,k as action,y as cache,tt as default,b as email,P as escape_html,j as escape_markdown_string,q as fixture,z as origin,E as push,F as sanitize,U as settings,V as sql,A as validate_input,B as websockets};
