{
  "version": 3,
  "sources": ["../../src/lib/replace_in_files.js"],
  "sourcesContent": ["import fs from 'fs';\n\nconst { readdir, readFile, writeFile } = fs.promises;\n\nconst replace_in_files = (root_path = '', options = {}) => {\n  return readdir(root_path, { recursive: true }).then(async (files) => {\n    let filtered_files = files;\n\n    if (options?.exclude?.length) {\n      for (let i = 0; i < options?.exclude?.length; i += 1) {\n        const exclude_regex = options?.exclude[i];\n        filtered_files = filtered_files?.filter((file) => {\n          return !file.match(new RegExp(exclude_regex));\n        });\n      }\n    }\n\n    filtered_files = filtered_files.filter((file) => {\n      return options?.match?.length ? options?.match?.some((match_regex) => {\n        return file.match(new RegExp(match_regex));\n      }) : true;\n    });\n\n    for (let i = 0; i < filtered_files?.length; i += 1) {\n      const file = filtered_files[i];\n      const file_path = `${root_path}/${file}`;\n      const file_contents = await readFile(file_path, 'utf-8');\n      const updated_file_contents = file_contents?.replace(\n        new RegExp(options.replace_regex),\n        options.replace_with\n      );\n\n      await writeFile(file_path, updated_file_contents);\n    }\n  }).catch((error) => {\n    console.warn(error);\n  });  \n};\n\nexport default replace_in_files;\n"],
  "mappings": "AAAA,OAAOA,MAAQ,KAEf,KAAM,CAAE,QAAAC,EAAS,SAAAC,EAAU,UAAAC,CAAU,EAAIH,EAAG,SAEtCI,EAAmB,CAACC,EAAY,GAAIC,EAAU,CAAC,IAC5CL,EAAQI,EAAW,CAAE,UAAW,EAAK,CAAC,EAAE,KAAK,MAAOE,GAAU,CACnE,IAAIC,EAAiBD,EAErB,GAAID,GAAS,SAAS,OACpB,QAASG,EAAI,EAAGA,EAAIH,GAAS,SAAS,OAAQG,GAAK,EAAG,CACpD,MAAMC,EAAgBJ,GAAS,QAAQG,CAAC,EACxCD,EAAiBA,GAAgB,OAAQG,GAChC,CAACA,EAAK,MAAM,IAAI,OAAOD,CAAa,CAAC,CAC7C,CACH,CAGFF,EAAiBA,EAAe,OAAQG,GAC/BL,GAAS,OAAO,OAASA,GAAS,OAAO,KAAMM,GAC7CD,EAAK,MAAM,IAAI,OAAOC,CAAW,CAAC,CAC1C,EAAI,EACN,EAED,QAASH,EAAI,EAAGA,EAAID,GAAgB,OAAQC,GAAK,EAAG,CAClD,MAAME,EAAOH,EAAeC,CAAC,EACvBI,EAAY,GAAGR,CAAS,IAAIM,CAAI,GAEhCG,GADgB,MAAMZ,EAASW,EAAW,OAAO,IACV,QAC3C,IAAI,OAAOP,EAAQ,aAAa,EAChCA,EAAQ,YACV,EAEA,MAAMH,EAAUU,EAAWC,CAAqB,CAClD,CACF,CAAC,EAAE,MAAOC,GAAU,CAClB,QAAQ,KAAKA,CAAK,CACpB,CAAC,EAGH,IAAOC,EAAQZ",
  "names": ["fs", "readdir", "readFile", "writeFile", "replace_in_files", "root_path", "options", "files", "filtered_files", "i", "exclude_regex", "file", "match_regex", "file_path", "updated_file_contents", "error", "replace_in_files_default"]
}
