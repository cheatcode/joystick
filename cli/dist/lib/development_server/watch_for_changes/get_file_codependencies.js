import m from"./read_file_dependency_map.js";import u from"../../path_exists.js";import _ from"../../get_platform_safe_path.js";const c=(t="",a={})=>Object.entries(a).filter(([s,r])=>{const i=r&&r.imports&&r.imports.some(e=>e.absolute_path.includes(t)),o=r&&r.requires&&r.requires.some(e=>e.absolute_path.includes(t));return i||o}).map(([s])=>s.replace(_(`${process.cwd()}/`),"")),l=async(t="")=>{const a=await m(),s=c(t,a);return Promise.all(s.filter(r=>u(r)))};var h=l;export{h as default};
