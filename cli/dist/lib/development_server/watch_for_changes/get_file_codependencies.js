import u from"./read_file_dependency_map.js";import l from"../../path_exists.js";import c from"../../get_platform_safe_path.js";const _=(r="",o={})=>Object.entries(o).filter(([a,t])=>{const i=t&&t.imports&&t.imports.some(s=>s.absolute_path.includes(r)||s.absolute_path?.toLowerCase()?.includes(r)),m=t&&t.requires&&t.requires.some(s=>s.absolute_path.includes(r)||s.absolute_path?.toLowerCase()?.includes(r));return i||m}).map(([a])=>a.replace(c(`${process.cwd()}/`),"")),p=async(r="")=>{const o=await u(),e=_(r,o);return Promise.all(e.filter(a=>l(a)))};var g=p;export{g as default};
