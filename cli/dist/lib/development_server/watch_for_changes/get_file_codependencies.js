import l from"./read_file_dependency_map.js";import u from"../../path_exists.js";import c from"../../get_platform_safe_path.js";const n=(r="",o={})=>(console.log({path_to_find:r}),Object.entries(o).filter(([a,s])=>{const i=s&&s.imports&&s.imports.some(t=>t.absolute_path.includes(r)||t.absolute_path?.toLowerCase()?.includes(r)),m=s&&s.requires&&s.requires.some(t=>t.absolute_path.includes(r)||t.absolute_path?.toLowerCase()?.includes(r));return i||m}).map(([a])=>a.replace(c(`${process.cwd()}/`),""))),p=async(r="")=>{const o=await l(),e=n(r,o);return Promise.all(e.filter(a=>u(a)))};var g=p;export{g as default};
