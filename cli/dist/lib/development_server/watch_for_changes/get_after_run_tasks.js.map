{
  "version": 3,
  "sources": ["../../../../src/lib/development_server/watch_for_changes/get_after_run_tasks.js"],
  "sourcesContent": ["import constants from \"../../constants.js\";\nimport get_platform_safe_path from \"../../get_platform_safe_path.js\";\n\nconst get_after_run_tasks = (path = '') => {\n\tconst is_html_update = path === 'index.html';\n  const is_client_index_update = path === 'index.client.js';\n  const is_client_lib_update = path.includes(\n    get_platform_safe_path('lib/')\n  ) && !path.includes(\n    get_platform_safe_path('lib/node')\n  );\n  const is_css_path = path.includes('css/');\n  const is_i18n_path = path.includes('i18n');\n  const is_settings_path = (path.match(constants.SETTINGS_FILE_NAME_REGEX))?.length > 0;\n  const is_tests_path = path.includes(get_platform_safe_path('tests/'));\n  const is_ui_path = path.includes(\n    get_platform_safe_path(\"ui/\")\n  ) || path === 'index.css' || is_html_update || is_client_index_update || is_client_lib_update;\n  const is_ui_update = (process.hmr_server_process && process.hmr_server_process.has_connections) &&\n    (is_ui_path || is_i18n_path || is_settings_path) ||\n    false;\n\n  if (is_css_path) {\n    return ['hot_module_reload'];\n  }\n\n  if (is_tests_path) {\n    return ['run_tests'];\n  }\n\n  if (is_ui_update) {\n    // NOTE: As part of hot_module_reload, the server will be restarted after a client has\n    // signaled that the HMR update is complete (see handle_hmr_server_process_messages in\n    // lib/development_server/index.js for the event handler).\n  \treturn ['hot_module_reload'];\n  }\n\n  return ['restart_app_server'];\n};\n\nexport default get_after_run_tasks;\n"],
  "mappings": "AAAA,OAAOA,MAAe,qBACtB,OAAOC,MAA4B,kCAEnC,MAAMC,EAAsB,CAACC,EAAO,KAAO,CAC1C,MAAMC,EAAiBD,IAAS,aACzBE,EAAyBF,IAAS,kBAClCG,EAAuBH,EAAK,SAChCF,EAAuB,MAAM,CAC/B,GAAK,CAACE,EAAK,SACTF,EAAuB,UAAU,CACnC,EACMM,EAAcJ,EAAK,SAAS,MAAM,EAClCK,EAAeL,EAAK,SAAS,MAAM,EACnCM,EAAoBN,EAAK,MAAMH,EAAU,wBAAwB,GAAI,OAAS,EAC9EU,EAAgBP,EAAK,SAASF,EAAuB,QAAQ,CAAC,EAC9DU,EAAaR,EAAK,SACtBF,EAAuB,KAAK,CAC9B,GAAKE,IAAS,aAAeC,GAAkBC,GAA0BC,EACnEM,EAAgB,QAAQ,oBAAsB,QAAQ,mBAAmB,kBAC5ED,GAAcH,GAAgBC,IAC/B,GAEF,OAAIF,EACK,CAAC,mBAAmB,EAGzBG,EACK,CAAC,WAAW,EAGjBE,EAII,CAAC,mBAAmB,EAGrB,CAAC,oBAAoB,CAC9B,EAEA,IAAOC,EAAQX",
  "names": ["constants", "get_platform_safe_path", "get_after_run_tasks", "path", "is_html_update", "is_client_index_update", "is_client_lib_update", "is_css_path", "is_i18n_path", "is_settings_path", "is_tests_path", "is_ui_path", "is_ui_update", "get_after_run_tasks_default"]
}
