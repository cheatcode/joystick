import{MongoClient as o}from"mongodb";import i from"fs";import l from"./build_connection_string.js";import r from"../../../color_log.js";const{readFile:m}=i.promises,s=async(c={},e={})=>{const n=l(c);try{const t={connectTimeoutMS:3e3,socketTimeoutMS:3e3,useNewUrlParser:!0,useUnifiedTopology:!0,tls:!1,...e||{}};return e?.tlsCAFile&&(t.tlsCAFile=e?.tlsCAFile),e?.tlsCertificateKeyFile&&(t.tlsCertificateKeyFile=e?.tlsCertificateKeyFile),(await o.connect(n,t)).close(),!0}catch(t){console.warn(t),r(`
\u2716 Failed to connect to MongoDB. Please double-check connection settings and try again.`,"yellow"),process.exit(1)}};var C=s;export{C as default};
//# sourceMappingURL=check_connection.js.map
