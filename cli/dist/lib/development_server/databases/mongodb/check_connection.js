import{MongoClient as o}from"mongodb";import c from"fs";import l from"./build_connection_string.js";import r from"../../../color_log.js";const{readFile:C}=c.promises,s=async(n={},e={})=>{const i=l(n);try{const t={connectTimeoutMS:3e3,socketTimeoutMS:3e3,useNewUrlParser:!0,useUnifiedTopology:!0,tls:!1,...e||{}};return console.log(e),e?.tlsCAFile&&(t.tlsCAFile=c.readFileSync(e?.tlsCAFile)),e?.tlsCertificateKeyFile&&(t.tlsCertificateKeyFile=c.readFileSync(e?.tlsCertificateKeyFile)),(await o.connect(i,t)).close(),!0}catch(t){console.warn(t),r(`
\u2716 Failed to connect to MongoDB. Please double-check connection settings and try again.`,"yellow"),process.exit(1)}};var m=s;export{m as default};
//# sourceMappingURL=check_connection.js.map
