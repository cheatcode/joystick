import a from"redis";import n from"../../../color_log.js";const r=async(t={},c={})=>{try{const o=t?.hosts&&t?.hosts[0],s={socket:{host:o?.hostname||"127.0.0.1",port:o?.port||6379,connectTimeout:3e3},database:t?.database||0};t?.username&&(s.username=t.username),t?.password&&(s.password=t.password);const e=a.createClient({...s,lazyConnect:!0});return e.on("connect",()=>{}),e.on("ready",()=>{}),await e.connect(),await e.ping(),await e.disconnect(),!0}catch(o){console.warn(o),n(`
\u2716 Failed to connect to Redis. Please double-check connection settings and try again.`,"yellow"),process.exit(1)}};var l=r;export{l as default};
//# sourceMappingURL=check_connection.js.map
