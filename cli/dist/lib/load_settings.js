import n from"fs";import r from"./cli_log.js";import c from"./is_valid_json_string.js";import a from"./path_exists.js";const{readFile:l}=n.promises,f=async(t=null)=>{const s=`${process.cwd()}/settings.${t}.json`;await a(s)||(r(`A settings file could not be found for this environment (${t}). Create a settings.${t}.json file at the root of your project and restart Joystick.`,{level:"danger",docs:"https://github.com/cheatcode/joystick#settings"}),process.exit(0));const e=await l(s,"utf-8"),o=c(e);o||(r(`Failed to parse settings file. Double-check the syntax in your settings.${t}.json file at the root of your project and restart Joystick.`,{level:"danger",docs:"https://github.com/cheatcode/joystick#settings",tools:[{title:"JSON Linter",url:"https://jsonlint.com/"}]}),process.exit(0));const i=o?e:"{}";return process.env.JOYSTICK_SETTINGS=i,JSON.parse(i)};var u=f;export{u as default};
//# sourceMappingURL=load_settings.js.map
