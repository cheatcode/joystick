import n from"fs";import i from"./cli_log.js";import r from"./is_valid_json_string.js";import a from"./path_exists.js";const{readFile:c}=n.promises,l=async(t=null)=>{const s=`${process.cwd()}/settings.${t}.json`;await a(s)||(i(`A settings file could not be found for this environment (${t}). Create a settings.${t}.json file at the root of your project and restart Joystick.`,{level:"danger",docs:"https://github.com/cheatcode/joystick#settings"}),process.exit(0));const e=await c(s,"utf-8"),o=r(e);return o||(i(`Failed to parse settings file. Double-check the syntax in your settings.${t}.json file at the root of your project and restart Joystick.`,{level:"danger",docs:"https://github.com/cheatcode/joystick#settings",tools:[{title:"JSON Linter",url:"https://jsonlint.com/"}]}),process.exit(0)),JSON.parse(o?e:"{}")};var u=l;export{u as default};
//# sourceMappingURL=load_settings.js.map
