import e from"os";import{execSync as c}from"child_process";const n=()=>{if(e.platform()==="darwin"){if(process.env.ARCHPREFERENCE==="i386"||process.env.ARCHPREFERENCE==="x86_64"||process.arch==="x64")return"x86_64";try{if(c("sysctl -n sysctl.proc_translated 2>/dev/null || echo 0",{encoding:"utf8"}).trim()==="1")return"x86_64"}catch{}try{if(c("uname -m",{encoding:"utf8"}).trim()==="x86_64"&&e.arch()==="arm64")return"x86_64"}catch{}}const r=e.arch();if(r==="arm64")return"arm64";if(r==="x64")return"x86_64";throw new Error(`Unsupported architecture: ${r}`)};var a=n;export{a as default};
//# sourceMappingURL=get_architecture.js.map
