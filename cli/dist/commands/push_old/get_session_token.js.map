{
  "version": 3,
  "sources": ["../../../src/commands/push_old/get_session_token.js"],
  "sourcesContent": ["import os from 'os';\nimport fs from 'fs';\nimport inquirer from 'inquirer';\nimport path_exists from '../../lib/path_exists.js';\nimport session_token_prompt from './prompts/session_token.js';\n\nconst { readFile, mkdir, writeFile } = fs.promises;\n\nconst get_session_token = async () => {\n  const home_directory = os.homedir();\n  const session_token_path = `${home_directory}/.push/session_token`;\n  const session_token_exists = await path_exists(session_token_path);\n\n  if (session_token_exists) {\n    return readFile(session_token_path, 'utf-8');\n  }\n \n  const { session_token } = await inquirer.prompt(session_token_prompt());\n\n  if (session_token) {\n\t  if (!(await path_exists(`${home_directory}/.push`))) {\n\t    await mkdir(`${home_directory}/.push`);\n\t  }\n\n\t  await writeFile(`${home_directory}/.push/session_token`, session_token);\n\n\t  return session_token;\n  }\n};\n\nexport default get_session_token;\n"],
  "mappings": "AAAA,OAAOA,MAAQ,KACf,OAAOC,MAAQ,KACf,OAAOC,MAAc,WACrB,OAAOC,MAAiB,2BACxB,OAAOC,MAA0B,6BAEjC,KAAM,CAAE,SAAAC,EAAU,MAAAC,EAAO,UAAAC,CAAU,EAAIN,EAAG,SAEpCO,EAAoB,SAAY,CACpC,MAAMC,EAAiBT,EAAG,QAAQ,EAC5BU,EAAqB,GAAGD,CAAc,uBAG5C,GAF6B,MAAMN,EAAYO,CAAkB,EAG/D,OAAOL,EAASK,EAAoB,OAAO,EAG7C,KAAM,CAAE,cAAAC,CAAc,EAAI,MAAMT,EAAS,OAAOE,EAAqB,CAAC,EAEtE,GAAIO,EACH,OAAM,MAAMR,EAAY,GAAGM,CAAc,QAAQ,GAC/C,MAAMH,EAAM,GAAGG,CAAc,QAAQ,EAGvC,MAAMF,EAAU,GAAGE,CAAc,uBAAwBE,CAAa,EAE/DA,CAEV,EAEA,IAAOC,EAAQJ",
  "names": ["os", "fs", "inquirer", "path_exists", "session_token_prompt", "readFile", "mkdir", "writeFile", "get_session_token", "home_directory", "session_token_path", "session_token", "get_session_token_default"]
}
