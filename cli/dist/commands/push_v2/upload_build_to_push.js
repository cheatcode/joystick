import d from"node-fetch";import m from"form-data";import o from"fs";import"lodash";const{readFile:r}=o.promises,n=async(e={})=>{const a=new m;return a.append("version_tar",await r(".build/build.encrypted.tar.gz"),`${e?.build_timestamp}.tar.gz`),a.append("build_timestamp",e?.build_timestamp),a.append("domain",e?.deployment?.domain),a.append("deployment_id",e?.deployment?._id),d(`${e?.push_domain}/api/deploy`,{method:"POST",headers:{...a.getHeaders(),"x-push-deployment-token":e?.deployment_token},body:a}).then(async t=>(await t.json())?.data).catch(t=>{console.warn(t)})};var c=n;export{c as default};
//# sourceMappingURL=upload_build_to_push.js.map
