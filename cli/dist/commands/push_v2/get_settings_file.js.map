{
  "version": 3,
  "sources": ["../../../src/commands/push_v2/get_settings_file.js"],
  "sourcesContent": ["import fs from 'fs';\nimport cli_log from '../../lib/cli_log.js';\nimport is_valid_json_string from '../../lib/is_valid_json_string.js';\nimport path_exists from '../../lib/path_exists.js';\n\nconst { readFile } = fs.promises;\n\nconst read_settings_file = async (environment = '') => {\n  const settings_file_name = `settings.${environment}.json`;\n  const settings_file_exists = await path_exists(settings_file_name);\n\n  if (!settings_file_exists) {\n    cli_log(\n      `Could not find a ${settings_file_name} in your project. Double-check this exists and try again.`,\n      {\n        level: \"danger\",\n        docs: \"https://cheatcode.co/docs/push/config\"\n      }\n    );\n\n    return process.exit(0);\n  }\n\n  return readFile(settings_file_name, 'utf-8');\n};\n\nconst get_settings_file = async (options) => {\n  const settings_file_name = `settings.${options?.environment}.json`;\n  const raw_settings_file = await read_settings_file(options?.environment);\n  const settings_file_is_valid_json = is_valid_json_string(raw_settings_file);\n\n  if (!settings_file_is_valid_json) {\n    cli_log(\n      `${settings_file_name} contains invalid JSON. Double-check the syntax and try again.`,\n      {\n        level: \"danger\",\n        docs: \"https://cheatcode.co/docs/push/config\"\n      }\n    );\n\n    return process.exit(0);\n  }\n\n  return JSON.parse(raw_settings_file);\n};\n\nexport default get_settings_file;\n"],
  "mappings": "AAAA,OAAOA,MAAQ,KACf,OAAOC,MAAa,uBACpB,OAAOC,MAA0B,oCACjC,OAAOC,MAAiB,2BAExB,KAAM,CAAE,SAAAC,CAAS,EAAIJ,EAAG,SAElBK,EAAqB,MAAOC,EAAc,KAAO,CACrD,MAAMC,EAAqB,YAAYD,CAAW,QAGlD,OAF6B,MAAMH,EAAYI,CAAkB,EAc1DH,EAASG,EAAoB,OAAO,GAXzCN,EACE,oBAAoBM,CAAkB,4DACtC,CACE,MAAO,SACP,KAAM,uCACR,CACF,EAEO,QAAQ,KAAK,CAAC,EAIzB,EAEMC,EAAoB,MAAOC,GAAY,CAC3C,MAAMF,EAAqB,YAAYE,GAAS,WAAW,QACrDC,EAAoB,MAAML,EAAmBI,GAAS,WAAW,EAGvE,OAFoCP,EAAqBQ,CAAiB,EAcnE,KAAK,MAAMA,CAAiB,GAXjCT,EACE,GAAGM,CAAkB,iEACrB,CACE,MAAO,SACP,KAAM,uCACR,CACF,EAEO,QAAQ,KAAK,CAAC,EAIzB,EAEA,IAAOI,EAAQH",
  "names": ["fs", "cli_log", "is_valid_json_string", "path_exists", "readFile", "read_settings_file", "environment", "settings_file_name", "get_settings_file", "options", "raw_settings_file", "get_settings_file_default"]
}
