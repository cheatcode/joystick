{
  "version": 3,
  "sources": ["../../../src/commands/push_v2/get_deployment_token.js"],
  "sourcesContent": ["import os from 'os';\nimport fs from 'fs';\nimport path_exists from '../../lib/path_exists.js';\n\nconst { readFile, mkdir, writeFile } = fs.promises;\n\nconst get_deployment_token = async (deployment_token = '') => { \n  if (deployment_token) {\n\t  if (!(await path_exists(`${home_directory}/.push`))) {\n\t    await mkdir(`${home_directory}/.push`);\n\t  }\n\n\t  await writeFile(`${home_directory}/.push/deployment_token`, deployment_token);\n\n\t  return deployment_token;\n  }\n\n  const home_directory = os.homedir();\n  const session_token_path = `${home_directory}/.push/deployment_token`;\n  const session_token_exists = await path_exists(session_token_path);\n\n  if (session_token_exists) {\n    return readFile(session_token_path, 'utf-8');\n  }\n\n  return null;\n};\n\nexport default get_deployment_token;\n"],
  "mappings": "AAAA,OAAOA,MAAQ,KACf,OAAOC,MAAQ,KACf,OAAOC,MAAiB,2BAExB,KAAM,CAAE,SAAAC,EAAU,MAAAC,EAAO,UAAAC,CAAU,EAAIJ,EAAG,SAEpCK,EAAuB,MAAOC,EAAmB,KAAO,CAC5D,GAAIA,EACH,OAAM,MAAML,EAAY,GAAGM,CAAc,QAAQ,GAC/C,MAAMJ,EAAM,GAAGI,CAAc,QAAQ,EAGvC,MAAMH,EAAU,GAAGG,CAAc,0BAA2BD,CAAgB,EAErEA,EAGR,MAAMC,EAAiBR,EAAG,QAAQ,EAC5BS,EAAqB,GAAGD,CAAc,0BAG5C,OAF6B,MAAMN,EAAYO,CAAkB,EAGxDN,EAASM,EAAoB,OAAO,EAGtC,IACT,EAEA,IAAOC,EAAQJ",
  "names": ["os", "fs", "path_exists", "readFile", "mkdir", "writeFile", "get_deployment_token", "deployment_token", "home_directory", "session_token_path", "get_deployment_token_default"]
}
