import r from"../../lib/development_server/index.js";import i from"../../lib/load_settings.js";import n from"../../lib/development_server/databases/download_database_binary.js";import c from"../../lib/cli_log.js";import d from"../../lib/loader.js";const l=async(e={})=>{const a=e?.config?.databases?.map((t={})=>t?.provider);if(a?.length>0){process.loader||(process.loader=new d),process.loader.print("Checking database installations...");for(let t=0;t<a?.length;t+=1){const s=a[t];try{await n(s)}catch(o){c(`Failed to install ${s} database: ${o.message}`,{level:"danger",docs:"https://cheatcode.co/docs/joystick/databases"}),process.exit(1)}}}},p=async(e={},a={})=>{const{settings:t}=await i("test");await l(t),await r({environment:"test",process,port:1977,watch:a?.watch})};var h=p;export{h as default};
//# sourceMappingURL=index.js.map
