import l,{FormData as f}from"node-fetch";const c=(a="",t={})=>new Promise(async(i,n)=>{let o;if(t?.files?.length>0){o=new f;const r=Array.from(t?.files);for(let s=0;s<r?.length;s+=1){const e=r[s];o.append("files",e,e.name)}l(`http://localhost:${process.env.PORT}/api/_uploaders/${a}`,{method:"POST",headers:{"x-joystick-upload-id":"joystick_test","x-joystick-upload-input":JSON.stringify(t?.input||{})},body:o}).then(async s=>{const e=await s.json();e&&e.errors?n({errors:e.errors}):i(e?.uploads)})}});var d=c;export{d as default};
