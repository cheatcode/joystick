import r from"./mongodb/connect.js";import n from"./postgresql/connect.js";import i from"./redis/connect.js";const d=async(s={},o=2610,c=!1)=>{if(console.log("register database",o),s?.provider==="mongodb"){const e=await r(s,o);process.databases={...process.databases||{},mongodb:c?{...process?.databases?.mongodb||{},[s?.name||`mongodb_${o}`]:e}:e}}if(s?.provider==="postgresql"){const e=await n(s,o);process.databases={...process.databases||{},postgresql:c?{...process?.databases?.postgresql||{},[s?.name||`postgresql_${o}`]:e}:e}}if(s?.provider==="redis"){console.log("register database > redis",o);const e=await i(s,o);process.databases={...process.databases||{},redis:c?{...process?.databases?.redis||{},[s?.name||`redis_${o}`]:e}:e}}return Promise.resolve(process.databases)};var m=d;export{m as default};
