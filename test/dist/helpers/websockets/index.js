import n from"ws";import r from"../../lib/get_test_port.js";const c={connect:async(t="")=>new Promise(s=>{const e=new n(`ws://localhost:${r()}/api/_websockets/${t}`);e.on("open",()=>{s({...e,close:()=>{e.close()},send:(o={})=>{e.send(JSON.stringify(o))}})}),e.on("error",o=>{reject(o)})})};var w=c;export{w as default};
