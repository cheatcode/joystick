import s from"ava";import o from"./helpers/databases/index.js";class n{constructor(){}before(e=null){return s.serial.before(e)}before_each(e=null){return s.beforeEach(e)}after(e=null){return s.after.always(e)}after_each(e=null){return s.afterEach.always(e)}that(e="",t=null){return s.serial(e,t)}}const a=new n;a.before(async()=>{await o()}),a.after(async()=>{if(process?.databases?.mongodb?.client&&await process.databases.mongodb.client.close(),process?.databases?.postgresql?.pool&&await process.databases.postgresql.pool.end(),process?.databases?.redis)if(process.databases.redis.destroy)process.databases.redis.destroy();else for(const[r,e]of Object.entries(process.databases.redis))e?.destroy&&e.destroy()});var d=a;export{d as default};
