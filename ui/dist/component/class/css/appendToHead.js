var o=(t="",e={})=>{throw new Error(`[joystick${t?`.${t}`:""}] ${e.message||e.reason||e}`)};var a=t=>{try{return typeof t=="function"}catch(e){o("types.isFunction",e)}};var u=t=>{try{return typeof t=="string"}catch(e){o("types.isString",e)}};var m=(t={},e={})=>{try{return t&&u(t)?t:t&&a(t)?t(e):""}catch(r){o("component.css.compile",r)}};var l=(t="")=>{try{let e=document.implementation.createHTMLDocument(""),r=document.createElement("style");return r.textContent=t,e.body.appendChild(r),r.sheet.cssRules}catch(e){o("component.css.prefix.getCSSRules",e)}},p=(t="",e="")=>{try{let r=l(t);return Object.entries(r).map(([s,n])=>n).map(s=>{if(s.constructor.name==="CSSStyleRule")return`[js-c="${e}"] ${s.cssText}`;if(s.constructor.name==="CSSMediaRule")return`
          @media ${s.conditionText} {
            ${Object.entries(s.cssRules).map(([n,i])=>`[js-c="${e}"] ${i.cssText}`).join(`
`)}
          }
        `}).join(`
`)}catch(r){o("component.css.prefix",r)}};var R=(t={},e=!1)=>{try{if(document.head.querySelector("style[js-ssr]")?.innerText?.includes(t.id)&&!e)return;let y=t?.options?.css,c=m(y,t),s=btoa(`${c.trim()}`).substring(0,8),n=document.head.querySelector(`style[js-c="${t.id}"]`);if(!n){let i=document.createElement("style");i.setAttribute("js-c",t?.id),i.setAttribute("js-css",s),i.innerHTML=p(c,t?.id),document.head.appendChild(i)}n&&s!==n.getAttribute("js-css")&&(n.innerHTML=p(c,t?.id))}catch(r){o("component.css.appendToHead",r)}};export{R as default};
