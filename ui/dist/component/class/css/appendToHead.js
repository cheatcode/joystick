var s=(t="",e={})=>{throw new Error(`[joystick${t?`.${t}`:""}] ${e.message||e.reason||e}`)};var y=t=>{try{return typeof t=="function"}catch(e){s("types.isFunction",e)}};var a=t=>{try{return typeof t=="string"}catch(e){s("types.isString",e)}};var u=(t={},e={})=>{try{return t&&a(t)?t:t&&y(t)?t(e):""}catch(r){s("component.css.compile",r)}};var l=(t="")=>{try{let e=document.implementation.createHTMLDocument(""),r=document.createElement("style");return r.textContent=t,e.body.appendChild(r),r.sheet.cssRules}catch(e){s("component.css.prefix.getCSSRules",e)}},p=(t="",e="")=>{try{let r=l(t);return Object.entries(r).map(([o,n])=>n).map(o=>{if(o.constructor.name==="CSSStyleRule")return`[js-c="${e}"] ${o.cssText}`;if(o.constructor.name==="CSSMediaRule")return`
          @media ${o.conditionText} {
            ${Object.entries(o.cssRules).map(([n,m])=>`[js-c="${e}"] ${m.cssText}`).join(`
`)}
          }
        `}).join(`
`)}catch(r){s("component.css.prefix",r)}};var R=(t={})=>{try{if(document.head.querySelector("style[js-ssr]")?.innerText?.includes(t.id))return;let r=t?.options?.css,i=u(r,t),c=btoa(`${i.trim()}`).substring(0,8),o=document.head.querySelector(`style[js-c="${t.id}"]`);if(!o){let n=document.createElement("style");n.setAttribute("js-c",t?.id),n.setAttribute("js-css",c),n.innerHTML=p(i,t?.id),document.head.appendChild(n)}o&&c!==o.getAttribute("js-css")&&(o.innerHTML=p(i,t?.id))}catch(e){s("component.css.appendToHead",e)}};export{R as default};
